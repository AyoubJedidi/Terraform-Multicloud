#cloud-config

users:
  - name: ${admin_username}
    groups: sudo
    shell: /bin/bash
    sudo: ALL=(ALL) NOPASSWD:ALL
    ssh_authorized_keys:
      - ${ssh_public_key}

ssh_pwauth: false
disable_root: true

package_update: true
package_upgrade: true

packages:
  - python3
  - python3-pip
  - curl
  - wget
  - git

timezone: UTC

runcmd:
  - echo "VM configured for Ansible automation" > /tmp/cloud-init-complete
  - echo "Setup complete at $(date)" >> /var/log/cloud-init-setup.log
